//foo : u8 mut weak? := zero;
false;
ref 5;
big_global ::= 5;

static_if(false)
{
	secret_struct : struct
	{
	};
}
else
{
}

== default ==
{
	//add_source_file("psyc.psy");
	//add_build_file("psyc.psy", "foo");
	executable("xD");
	//xd ::= 5;
	optimization((2.0 + 1.5)@s64 static);
	debug_symbols(true);
	assert(true);
	5@u64@u8?@u64;
	5@s64@epic_colours@s64;
	//epic : typeof foo();
};

== fooey ==
{
};

5 - 5 + 5 - 5;

//foo.bar(1, 2, 3); foo +
//	bar;
//poo ::= 5 + 5;
//pee : u64 mut := (5 - 5);
//fooval : u64 mut weak := [foo];

mystruct : struct
{
	foo1 : u64[5] mut weak;
	foo2 : u8;
};

1 + 2 * 3 / 4 < 5;
((((1 + 2) * 3) / 4) < 5);

foo1 : struct
{
	foo : u64;
	callback : func(foo : u64 mut weak, foo2 : u16 mut? mut, foo3 : func(xd : u8[2] -> v0) mut, foo4 : u32[999] -> s64 weak);
};

epic_colours : enum
{
	.red := 0;
	.blue := 1;
	.not_green := 2;
	.orange := 3;
};
//my_rating_of_epic_colours : u64[__countof(epic_colours)];
//scope_add_enumeration(scope, enumeration
//{
//	.deno := [foo.enm.entry_names # i];
//	.egg := 5;
//	... := zero;
//});

main : func(args : program_args mut? -> s32)
{
	return 0;
};

fn1 : func(foo : u64, foo2 : u8, foo3 : u64 -> u64)
{
	//var1 : u64 mut weak??;
	//var1;
	//return;
	var2 ::= 5@s64 mut;
	var2 = 3 + big_global;
	//var3 : typeof(var2) mut := [ref 5];
	var3 : typeof(var2) mut weak := var2 - 5;
	myarr ::= zero@u64[3];
	offsetted ::= myarr # 0;
	myepicarr ::= ref(var2) # 1;
	static_if(true)
	{
	}
	else
	{
		var5 ::= 12;
	}
	var2 = (var2 + 1);
	while(var2 != 5)
	{
		var4 ::= 6;
	}
	for var2 = 0; var2 < alignof u64; 5;
	{
		xd ::= 5;
	}
	foo ::= mystruct mut{.foo1 := zero; .foo2 := var2 + 5@u32@_;};
	test2 ::= u64[4]{.0 := 12; .1 := 69420 & 5;};
	epic_pointer ::= 5@u64@u8 mut? mut;
	[epic_pointer] = 5;
	var2 = 5;
	var2 = (foo.foo2@_);
	foo.foo2 = (var2@_);
	fooptr ::= ref foo;
	fn1(var2@_, fooptr->foo2@_, 3);
	rsp ::= fooasm();
	return 5 * var2 % 2;
};

fooasm : asm("=r" -> u64)
{
	movq %rsp, $0
};

static_if false
{
}
else
{
	e : u64 mut := 15;
}

thing : enum
{
	.foo := 1;
};

fn2 : func(-> v0) extern;
fooey(5 + 69, 6, 7, fooey{.foo := zero;})@u64 mut?;
