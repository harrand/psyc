main ::= func() -> s32
{
	args ::= psyc_parse_args();
	defer psyc_report_timings();

	if(args.build_file == null)
	{
		//psyc_fatal_error(srcloc_current(), "no build file!");
	}

	lex();

	return 0;
};

== build ==
{
	add_source_file("args.psy");
	add_source_file("file.psy");
	add_source_file("diag.psy");

	add_source_file("lex.psy");

	set_output_directory("build");
	set_executable("psyc");

	add_link_library("Kernel32.lib");
	add_link_library("Shell32.lib");
}
