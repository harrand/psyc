parse ::= func(lex : lex_state&, verbose_parse : bool) -> ast
{
	psyc_timed(psyc_stage.parse);
	root ::= make_root_ast(lex->path);

	if(verbose_parse)
	{
		ast_verbose_print(ref root, 0);
	}
	return root;
};

== build ==
{
	add_source_file("lex.psy");
	add_source_file("diag.psy");
}
