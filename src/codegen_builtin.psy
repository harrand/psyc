cg_builtin_debugbreak ::= func(ctx : context mut, prog : program mut&) -> cgv
{
	node ::= ctx.node;
	
	fn_type ::= LLVMFunctionType(LLVMVoidType(), null, 0, false@s32);
	fn ::= LLVMAddFunction(mod, "llvm.debugtrap", fn_type);
	LLVMBuildCall2(ir, fn_type, fn, null, 0, "");
	return zero;
};

== build ==
{
	add_source_file("codegen_node.psy");
	add_source_file("diag.psy");
}
